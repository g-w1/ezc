<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js dark">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>ez Docs</title>
        
        <meta name="robots" content="noindex" />
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "dark";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('dark')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="installing.html"><strong aria-hidden="true">1.</strong> Installing</a></li><li class="chapter-item expanded "><a href="vars_and_conds.html"><strong aria-hidden="true">2.</strong> Variables and Conditionals</a></li><li class="chapter-item expanded "><a href="loops.html"><strong aria-hidden="true">3.</strong> Loops</a></li><li class="chapter-item expanded "><a href="functions.html"><strong aria-hidden="true">4.</strong> Functions</a></li><li class="chapter-item expanded "><a href="modules.html"><strong aria-hidden="true">5.</strong> Modules</a></li><li class="chapter-item expanded "><a href="arrays_and_ptrs.html"><strong aria-hidden="true">6.</strong> Arrays and Pointers</a></li><li class="chapter-item expanded "><a href="stdlib.html"><strong aria-hidden="true">7.</strong> Standard Library</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">ez Docs</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#installing-ez" id="installing-ez">Installing ez</a></h1>
<h2><a class="header" href="#the-compiler" id="the-compiler">The compiler</a></h2>
<p>Installing the compiler for <code>ez</code>, <code>ezc</code> is fairly simple.</p>
<p>First, make sure you have <code>cargo</code> and <code>zig</code> in your <code>$PATH</code> and are on x86_64 linux. You should use zig <code>0.7.0</code>. If you are on windows, <a href="https://docs.microsoft.com/en-us/windows/wsl/install-win10">wsl</a> should work (although it has not been tested on wsl).</p>
<p>Then run <code>cargo install ezc</code>. This will download and compile <code>ezc</code> for you. To test if it worked run <code>ezc</code> in the terminal. If it says:</p>
<pre><code>ERROR: I need an input file.
</code></pre>
<p>you have installed it correctly.</p>
<blockquote>
<p>Note if you want to install without zig, run <code>HAS_NO_ZIG=1 cargo install ezc</code>.</p>
</blockquote>
<h2><a class="header" href="#standard-library" id="standard-library">Standard Library</a></h2>
<p>To build the standard library, run <code>git clone https://github.com/g-w1/ezc &amp;&amp; cd ezc/lib &amp;&amp; zig build</code>. If this works correctly, you should have a copy of the standard library in <code>ezc/lib/zig-cache/lib/libstd.a</code>.</p>
<h2><a class="header" href="#testing-if-it-worked" id="testing-if-it-worked">Testing if it worked</a></h2>
<p>To test if everything is installed correctly have a file called <code>hello_world.ez</code> with this contents:</p>
<pre><code>External function PutStringLine(s).
Set hello_world to &quot;Hello World!&quot;.
Set tmp to PutStringLine(hello_world).
</code></pre>
<p>To compile it run <code>ezc hello_world.ez -stdlib-path path/to/stdlib.a</code>.</p>
<p>To see if it worked, the command <code>./a.out</code> should print <code>&quot;Hello World!&quot;</code></p>
<h2><a class="header" href="#troubleshooting" id="troubleshooting">Troubleshooting</a></h2>
<p>If you have any issues with the build or install process please raise an <a href="https://github.com/g-w1/ezc/issues">issue on github</a>.</p>
<h1><a class="header" href="#variables-and-conditionals" id="variables-and-conditionals">Variables and Conditionals</a></h1>
<h2><a class="header" href="#variables" id="variables">Variables</a></h2>
<p>This tutorial will cover how to program in ez by using examples. Every example will showcase a different feature of ez.</p>
<p>The simplest ez program that does something is this:</p>
<pre><code>Set var to 42.
</code></pre>
<p>All this program does is set a variable called var to the number 42.</p>
<p>If we wanted to change var to something else after we have set it we could do this:</p>
<pre><code>Set var to 42.
Change var to var * 2.
</code></pre>
<p>This is self explanatory, we are changing var to something else. To use the <code>change</code> keyword with a variable, you must <code>set</code> it first.</p>
<blockquote>
<p>Note: keywords in <code>ez</code> that start a sentence are not case sensitive <code>set var to 42.</code> works. <code>to</code> is case sensitive because it is in the middle of a sentence. You can think of this like English.</p>
</blockquote>
<p>Numbers and characters can be used interchangeably:</p>
<pre><code>Set var to 'a'.
Change var to var * 2.
</code></pre>
<p>In this example, at the end, var is 194, because ‘a’ is converted to it’s ASCII code. There is <em>0</em> difference between characters and numbers.</p>
<h2><a class="header" href="#conditionals" id="conditionals">Conditionals</a></h2>
<p>We can use an <code>if</code> statement to control the flow of the code:</p>
<pre><code>Set special_number to 0.
if special_number = 0,
  change special_number to special_number + 1.
!
</code></pre>
<p>Take a moment to think: what is the value of <code>special_number</code> at the end of this program.</p>
<p>The answer: 1.</p>
<p>The way conditionals evaluate in ez is that if the if statement guard (in this case special_number = 0) evaluates to 1 then the block is run.</p>
<p>Blocks look like <code>, (code) !</code>. Whitespace has <em>no</em> impact on ez.</p>
<p>You can create boolean expressions using these operators:</p>
<ul>
<li><code>=</code> equals</li>
<li><code>!=</code> not equal</li>
<li><code>and</code> binary and operator (it also works for booleans because math is cool)</li>
<li><code>or</code> binary or operator (it also works for booleans because math is cool)</li>
<li><code>&gt;</code> greater than</li>
<li><code>&lt;</code> less than</li>
<li><code>&gt;=</code> greater than or equal</li>
<li><code>&lt;=</code> less than or equal</li>
</ul>
<p>You can use these operators to create numbers:</p>
<ul>
<li><code>+</code> add</li>
<li><code>-</code> subtract</li>
<li><code>*</code> multiply</li>
</ul>
<blockquote>
<p>Note: division is not supported because it is not safe, dividing by zero is bad.</p>
</blockquote>
<h1><a class="header" href="#loops" id="loops">Loops</a></h1>
<p>Loops are a core part of any programming language.</p>
<p>Here is an example of loops in ez:</p>
<pre><code>set index to 0.
loop,
  if index &gt;= 10,
    break.
  !
  change index to index + 1.
!
</code></pre>
<p>You can use the break keyword to get out of loop.</p>
<p>You can also nest loops. You <em>cannot</em> set variables in loops because they would be shadowed on the next iteration of the loop. <a href="https://en.wikipedia.org/wiki/Variable_shadowing">Variable shadowing</a> is <em>not</em> allowed in ez.</p>
<h1><a class="header" href="#functions" id="functions">Functions</a></h1>
<p>Functions are also core to any programming language. If you are not familiar with functions they are like mini-programs that can take arguments and return results.</p>
<p>Here is an example of one in ez:</p>
<pre><code>Function AddOne(number),
  set result to number + 1.
  Return result.
!
</code></pre>
<p>We can then call a function with an argument to get the return value:</p>
<pre><code>Set six to AddOne(5). {
  This calls AddOne with the `number` argument as 5.
  Then the function is run with the number variable set to 5.
  Finally, it returns 6.
}
</code></pre>
<p>In ez, comments start with <code>{</code> and end with <code>}</code>. Anything inside the comment is ignored.</p>
<p>A <code>Return</code> statement immediately stops the function and returns what is after it.</p>
<p>Recursive functions <strong>are</strong> allowed:</p>
<pre><code>Function fib(a),
    if a &lt;= 2,
        return 1.
    !
    return fib(a - 1) + fib(a - 2).
!

set result to fib(10).
</code></pre>
<p>In this example, at the end, result is set to 55, which is the 10th Fibonacci number. Notice how the fib function can call itself.</p>
<h1><a class="header" href="#modules" id="modules">Modules</a></h1>
<p>Ez has a very minimal module system.</p>
<p>It is similar to c, except no preprocessor or <code>.h</code> files.</p>
<p>Functions are the only thing that can be exported from <code>.ez</code> files to other files.</p>
<p>Here is an example:</p>
<p><code>lib.ez</code></p>
<pre><code>Export function MulByTwo(n),
  return n * n.
!
</code></pre>
<p><code>main.ez</code></p>
<pre><code>External function MulByTwo(n).

set twelve to MulByTwo(6).
</code></pre>
<p>To compile this into a single binary, run:</p>
<pre><code class="language-bash"># this produces a lib.ez.o file
$ ezc lib.ez -lib
# this produces a main.ez.o file
$ ezc main.ez -nolink
# this links everything together
$ ld main.ez.o lib.ez.o -o out
</code></pre>
<p>For another example of this, with a Makefile, go here: <a href="https://github.com/g-w1/ezc/tree/master/tests/module">https://github.com/g-w1/ezc/tree/master/tests/module</a>.</p>
<p>Ez uses the <a href="https://wiki.osdev.org/System_V_ABI">systemv x86_64</a> so you can also import and export functions to c or any language that can use this abi in the exact same way.</p>
<p>For an example of interfacing with c go here: <a href="https://github.com/g-w1/ezc/tree/master/tests/cinterface">https://github.com/g-w1/ezc/tree/master/tests/cinterface</a></p>
<h1><a class="header" href="#arrays-and-pointers" id="arrays-and-pointers">Arrays and Pointers</a></h1>
<p>Arrays and pointers are two of the most advanced topics in ez. They are also experimental: there are likely to be bugs when using them.</p>
<h2><a class="header" href="#arrays" id="arrays">Arrays</a></h2>
<p>You can set a variable to an array in ez:</p>
<pre><code>set array_of_nums to [1,2,3].
</code></pre>
<p>You can index an array like this:</p>
<pre><code>set array_of_nums to [3,2,1].
set one to array_of_nums[1]. { We know one is 3. }
set array_of_nums[1] to 1. { Now array_of_nums is [1,2,1]. }
</code></pre>
<p>A string is just an array of characters, which is just an array of numbers:</p>
<pre><code>set array_of_nums to &quot;hello\n&quot;.
set array_of_nums[1] to 'm'. { array_of_nums is &quot;mello\n&quot;}
</code></pre>
<p>To find the length of an array, you can use the zeroth element of it:</p>
<pre><code>set array_of_nums to &quot;hello\n&quot;.
set len to array_of_nums[0]. { len is 6 }
</code></pre>
<blockquote>
<p>Note: for technical reasons, arrays are layed out in memory with the first element being a pointer to itself (for technical reasons involving the <code>mov</code> and <code>lea</code> instructions), the second element being the length of the array (not including the first 2 elements) and the rest being the array in memory</p>
<p><code>[1,2,3]</code> is this: <code>pointer to itself, 3, 1, 2, 3 </code>
To see examples of interacting with this slightly different array abi, view <a href="https://github.com/g-w1/ezc/blob/master/lib/src/lib.zig"><code>lib.zig</code></a></p>
</blockquote>
<h2><a class="header" href="#pointers" id="pointers">Pointers</a></h2>
<p>In ez, pointers are numbers that represent a pointer to a value.</p>
<p>Use the <code>@</code> operator to dereference a pointer:</p>
<pre><code>set null to 0.
set oof to @null.
</code></pre>
<p>This will produce a segmentation fault; it is the classic example of dereferencing a null pointer.</p>
<blockquote>
<p>Note: when setting something to an array value, or passing an array in a function, you are just using the pointer to the array.</p>
</blockquote>
<h1><a class="header" href="#standard-library-1" id="standard-library-1">Standard Library</a></h1>
<p>There are some functions that are provided by the <code>libstd.a</code> standard library.</p>
<p>Here they are.</p>
<ul>
<li><code>PutString(string)</code> Takes an array and prints all the ascii characters in it to stdout.</li>
<li><code>PutStringLine(string)</code> Same as <code>PutString</code> but prints <code>\n</code> after.</li>
<li><code>PutNewLine()</code> Prints <code>\n</code> to stdout.</li>
<li><code>PutChar(char)</code> Takes a character and prints it if it is ascii.</li>
<li><code>PutNum(num)</code> Takes a number and prints the <em>value</em>.</li>
<li><code>PutNumHex(num)</code> Takes a number and prints it in hex.</li>
<li><code>PutNumBin(num)</code> Takes a number and prints it in binary.</li>
<li><code>InputLine()</code> Reads a line from stdin and returns an array of it.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
